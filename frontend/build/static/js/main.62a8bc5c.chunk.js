(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,,,,,,function(e,o,t){},function(e,o,t){},,function(e,o,t){},function(e,o,t){},function(e,o,t){"use strict";t.r(o);var n=t(0),s=t(4),a=t.n(s),c=(t(13),t(8)),r=t(2),i=t(5),l=t(7),d=t.n(l),j=(t(14),t(3));var g=e=>{let{onLoginSuccess:o}=e;const[t,s]=Object(n.useState)(null);return Object(j.jsxs)("div",{className:"auth-buttons",children:[t&&Object(j.jsx)("div",{className:"auth-error",children:t}),Object(j.jsx)(i.a,{onSuccess:async e=>{try{console.log("Credential Response:",e);const t=await fetch("http://localhost:5000/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({token:e.credential})});console.log("Response status:",t.status);const n=t.headers.get("content-type");if(console.log("Content type:",n),!t.ok){if(n&&n.includes("application/json")){const e=await t.json();throw new Error(e.error||"Failed to authenticate")}{const e=await t.text();throw console.error("Non-JSON response:",e),new Error("Server returned non-JSON response")}}const a=await t.json();if(console.log("Response data:",a),a.error)return void s(a.error);o(a.token,a.user)}catch(t){s("Failed to login with Google: "+t.message),console.error("Google login error:",t)}},onError:()=>{s("Google login failed. Please try again.")},useOneTap:!0,theme:"filled_blue",size:"large",text:"signin_with",shape:"rectangular"}),Object(j.jsx)(d.a,{appId:"your-facebook-app-id",autoLoad:!1,fields:"name,email,picture",callback:async e=>{try{const t=await fetch("http://localhost:5000/api/auth/facebook",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e.accessToken})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to authenticate")}const n=await t.json();if(n.error)return void s(n.error);o(n.token,n.user)}catch(t){s("Failed to login with Facebook: "+t.message),console.error("Facebook login error:",t)}},cssClass:"facebook-login-button",icon:"fa-facebook"})]})};t(16);var b=()=>Object(j.jsx)("div",{className:"login-container",children:Object(j.jsxs)("div",{className:"login-box",children:[Object(j.jsx)("h1",{children:"Welcome to Ads Search Engine"}),Object(j.jsx)("p",{children:"Please sign in to continue"}),Object(j.jsx)(g,{})]})});t(17);var h=function(){const[e,o]=Object(n.useState)(!!localStorage.getItem("token")),t="253595159397-0uui61960q5gvv0lc66jmetv2gbsrqja.apps.googleusercontent.com";return console.log("Environment Variables in App:",{fromEnv:"253595159397-0uui61960q5gvv0lc66jmetv2gbsrqja.apps.googleusercontent.com",hardcoded:t}),Object(j.jsx)(i.b,{clientId:t,children:Object(j.jsx)(c.a,{children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(r.d,{children:[Object(j.jsx)(r.b,{path:"/login",element:e?Object(j.jsx)(r.a,{to:"/dashboard",replace:!0}):Object(j.jsx)(b,{onLoginSuccess:(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),o(!0)}})}),Object(j.jsx)(r.b,{path:"/dashboard",element:e?Object(j.jsx)("div",{children:"Dashboard (Coming Soon)"}):Object(j.jsx)(r.a,{to:"/login",replace:!0})}),Object(j.jsx)(r.b,{path:"/",element:Object(j.jsx)(r.a,{to:e?"/dashboard":"/login",replace:!0})})]})})})})};var u=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,19)).then((o=>{let{getCLS:t,getFID:n,getFCP:s,getLCP:a,getTTFB:c}=o;t(e),n(e),s(e),a(e),c(e)}))};console.log("Environment Variables:",{GOOGLE_CLIENT_ID:"253595159397-0uui61960q5gvv0lc66jmetv2gbsrqja.apps.googleusercontent.com",NODE_ENV:"production"}),a.a.render(Object(j.jsx)(h,{}),document.getElementById("root")),u()}],[[18,1,2]]]);
//# sourceMappingURL=main.62a8bc5c.chunk.js.map